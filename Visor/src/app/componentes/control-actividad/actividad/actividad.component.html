<table mat-table
       [dataSource]="dataSource" multiTemplateDataRows
       class="mat-elevation-z8" >

  <ng-container matColumnDef="{{column}}" *ngFor="let column of displayedColumns">
    <th mat-header-cell *matHeaderCellDef> {{column}} </th>
    <td mat-cell *matCellDef="let element">
      <div *ngIf="column == 'fecha'">{{element.fecha | date:'dd/MM/yyyy'}}</div>
       <div *ngIf="column != 'fecha'">{{ element[column] }}</div>
    </td>
  </ng-container>

  <ng-container matColumnDef="descripcion">
    <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
    <td mat-cell *matCellDef="let element">
      <button mat-icon-button   (click)="(expandedElement = expandedElement === element? null : element); $event.stopPropagation()">
        <mat-icon *ngIf="expandedElement !== element">keyboard_arrow_down</mat-icon>
        <mat-icon *ngIf="expandedElement === element">keyboard_arrow_up</mat-icon>
      </button>   
    </td>
  </ng-container>
  
  <ng-container matColumnDef="{{column}}" *ngFor="let column of displayedColumns2">
    <th mat-header-cell *matHeaderCellDef> 
      <div *ngIf="column == 'asunto_actividad'">{{column}}</div>
      <div *ngIf="column == 'acciones'">
        <a class="pointer" (click)="onAgregarActividad()" matTooltip="Agregar Actividad">
          <button mat-icon-button style="right: -5%;">
            <mat-icon>add_circle</mat-icon>
          </button>
        </a>
      </div> 
    </th>  
  
    <td mat-cell *matCellDef="let element; let i = dataIndex;" > 
      <div *ngIf="column == 'asunto_actividad'">{{element[column]}}</div>
      <div *ngIf="column == 'acciones'">
        <a class="pointer" (click)="onEditarActividadSuite(i);cambioIndex(i)" matTooltip="Editar Actividad">
          <button mat-icon-button style="text-align: right;">
            <mat-icon>edit</mat-icon>
          </button>
      </a>
        <a class="pointer" (click)="onEliminarActividadSuite(i)" matTooltip="Eliminar Actividad">
          <!--<button mat-icon-button style="right: -78%;">-->
            <button mat-icon-button style="text-align: right;">
            <mat-icon>clear</mat-icon>
          </button>
        </a>
      </div>
      </td>
  </ng-container>


  <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
  <ng-container matColumnDef="expandedDetail">
    <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplayWithExpand.length">
      <div class="example-element-detail"
       [@detailExpand]="element == expandedElement ? 'expanded':'collapsed'">
        
        <div class="example-element-description">
          {{ element.descripcion }}
        </div>
      </div>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithExpand"></tr>
  <tr mat-row *matRowDef="let element; columns: columnsToDisplayWithExpand;"
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === element"
      (click)="expandedElement = expandedElement === element ? null : element">
  </tr>
  <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>

</table>













