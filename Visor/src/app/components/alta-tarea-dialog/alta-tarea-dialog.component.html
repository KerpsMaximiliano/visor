<body>
    <mat-dialog-content class="mat-typography">
        <mat-icon class="icon" id="close_abm_tareas" (click)="cerrarDialog()"> close </mat-icon>
        <h2 mat-dialog-title class="titulo"> Alta de Tareas </h2>
        <!-- <div class="pares"> -->
            <mat-dialog-content>
                <!-- <mat-form-field class="example-form-field" appearance="outline" id="searchInput"> -->
                    <div id="busqueda_proyectos">
                        <mat-label class="label">Proyecto</mat-label>
                        <input matInput type="text" placeholder="Buscar proyecto..." autocomplete="off"  [(ngModel)]="valorInputProyecto"
                            (keyup)="cerrarTablaProyectos()" (keyup.enter)="buscarProyectos($event)">
                        <div class="lista_proyectos" [ngClass]=estiloListaProyectos>
                            <div>
                                <table mat-table [dataSource]="tablaProyectosService" class="mat-elevation-z8 ">
                                    <ng-container matColumnDef="nombre">
                                        <!-- <th mat-header-cell *matHeaderCellDef></th> Linea modificada  -->
                                        <td mat-cell *matCellDef="let unProyecto" (click)="seleccionarProyecto(unProyecto)"> {{
                                            unProyecto.nombre_projecto }} </td>
                                    </ng-container>
                                    <!-- <tr mat-header-row *matHeaderRowDef="columnas"></tr> -->
                                    <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
                                </table>
                            </div>
                        </div>
                        <!-- </mat-form-field> -->
                        <!-- Lupa para buscar proyectos-->
                        <mat-icon id="lupa" class="icon" (click)="abrirDialogProyecto($event)">search</mat-icon>
                    </div>
            </mat-dialog-content>
        
            <mat-divider></mat-divider>
        
            <mat-dialog-content class="nombre_dato">
                <mat-label class="label">Tipo de tarea</mat-label>
                <mat-select placeholder="Tipo de tarea" [(value)]="tipoTareaSeleccionada" id="tipoTarea"
                    (selectionChange)="selectTipoTarea($event)">
                    <mat-option></mat-option>
                    <mat-option value="Actividad en Cliente">Actividad en Clientelvo</mat-option>
                    <mat-option value="Atención clientes">Atención clientes</mat-option>
                    <mat-option value="Capacitación">Capacitación</mat-option>
                    <mat-option value="Diseño">Diseño</mat-option>
                    <mat-option value="Guardia Activa">Guardia Activa</mat-option>
                    <mat-option value="Guardia Pasiva">Guardia Pasiva</mat-option>
                    <mat-option value="Mantenimiento">Mantenimiento</mat-option>
                    <mat-option value="Producción">Producción</mat-option>
                    <mat-option value="Relevamiento requerimientos">Relevamiento requerimientos</mat-option>
                    <mat-option value="Taller/Demo">Taller/Demo</mat-option>
                    <mat-option value="Testing">Testing</mat-option>
                </mat-select>
            </mat-dialog-content>
        <!-- </div> -->

        <mat-divider></mat-divider>

        <div class="pares">
            <mat-dialog-content class="nombre_dato">
                <mat-label class="label">Estado</mat-label>
                    <mat-select placeholder="Tipo de tarea" [(value)]="estadoTareaSeleccionado" id="tipoTarea" (selectionChange)="selectEstadoTarea($event)"  >
                        <mat-option></mat-option>
                        <mat-option value="No iniciada">No iniciada</mat-option>
                        <mat-option value="En progreso">En progreso</mat-option>
                        <mat-option value="En prueba">En prueba</mat-option>
                        <mat-option value="Completada">Completada</mat-option>
                    </mat-select>
            </mat-dialog-content>

            <mat-divider></mat-divider>

            <mat-dialog-content class="nombre_dato">
                <mat-label class="label">Prioridad</mat-label>
                <mat-select placeholder="Tipo de tarea" [(value)]="prioridadSeleccionada" id="prioridad"
                    (selectionChange)="selectPrioridad($event)">
                    <mat-option></mat-option>
                    <mat-option value="No iniciada">Alta</mat-option>
                    <mat-option value="En progreso">Media</mat-option>
                    <mat-option value="En prueba">Baja</mat-option>
                </mat-select>
            </mat-dialog-content>
        </div>

        <mat-divider></mat-divider>

        <div class="pares">
            <mat-dialog-content class="nombre_dato">
                <mat-label class="label">Asignado a</mat-label>
                <mat-select placeholder="Asignado a" [(value)]="asignadoSeleccionado" (selectionChange)="selectAsignado($event)">
                </mat-select>
            </mat-dialog-content>

            <mat-divider></mat-divider>

            <mat-dialog-content class="nombre_dato">
                <mat-label class="label">Facilitador</mat-label>
                <mat-select placeholder="Facilitador" [(value)]="facilitadorSeleccionado"(selectionChange)="selectFacilitador($event)">
                </mat-select>
            </mat-dialog-content>
        </div>
        
        <mat-divider></mat-divider>
            <mat-dialog-content class="centrado">
                <div id="fecha_planificada">
                    <mat-label class="label">Fecha planificada</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-label>dd/mm/aaaa</mat-label>
                        <input matInput [(ngModel)]="fechaPlanificada" [matDatepicker]="planificadaHasta"
                            (dateInput)="getFechaPlanificada($event)">
                        <!-- <mat-hint>{{getDateFormatString()}}</mat-hint> -->
                        <mat-datepicker-toggle matSuffix [for]="planificadaHasta"></mat-datepicker-toggle>
                        <mat-datepicker #planificadaHasta></mat-datepicker>
                    </mat-form-field>
                </div>
            </mat-dialog-content>

        <mat-divider></mat-divider>

            <mat-dialog-content class="centrado">
                <div class="separacion_par">
                    <mat-label class="label">Horas planificadas: </mat-label>
                    <input matInput type="number" placeholder="Cantidad horas planificadas" autocomplete="off"
                    [(ngModel)]="horasPlanificadas">
                </div>
            </mat-dialog-content>

        <mat-divider></mat-divider>

        <mat-dialog-content class="centrado">
            <mat-label class="label">Tareas precondición</mat-label>
            <mat-select placeholder="Tareas precondición" [(value)]="facilitadorSeleccionado" (selectionChange)="selectTareaPrecondicion($event)">
            </mat-select>
        </mat-dialog-content>

        <mat-divider></mat-divider>

        <mat-dialog-content class="centrado">
            <mat-label class="label">Documentos relacionados</mat-label>
            <mat-select placeholder="Tipo de tarea" [(value)]="documentoRelacionado" (selectionChange)="selectDocumentoRelacionado($event)">
            </mat-select>
        </mat-dialog-content>

        <mat-divider></mat-divider>

        <mat-dialog-content class="centrado">
            <mat-label class="label">Notas</mat-label>
            <textarea name="" id="" cols="30" rows="10"></textarea>
        </mat-dialog-content>

        <mat-dialog-actions class="accionesBotones">
            <button mat-raised-button color="primary" type="submit" (click)="cerrarDialog()"> Cancelar </button>
            <button mat-raised-button color="primary" type="submit" cdkFocusInitial (click)="altaTarea()"> Aceptar </button>
        </mat-dialog-actions>

    </mat-dialog-content>
</body>